<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Snøballkrig — Kodeklubben</title>

  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/lesson.css">
  <link rel="stylesheet" href="/css/scratch.css">
</head>
<body>
<header>
<div class="level">1.5</div>
<div class="title">Snøballkrig</div>
<div class="logo"><img src="/img/ccno_logo.png"/></div>
</header>
<section class="legal">
<div>
Dette kurset er utviklet av <a href="http://www.kodeklubben.no/">Kodeklubben (http://www.kodeklubben.no/)</a>.
</div>
</section>
<section id="introduksjon" class="level1 intro">
<h1>Introduksjon</h1>
<p>I denne oppgaven vil vi lage et spill hvor det er om å gjøre å jage bort de slemme guttene ved å kaste snøball på dem. Underveis vil vi lære hvordan vi kan gjøre et spill mer utfordrende etterhvert ved at figurene vi spiller mot blir raskere og vanskeligere å jage bort.</p>
<figure>
<img src="snoballkrig.png" />
</figure>
</section>
<section id="steg-1-en-snøballkaster" class="level1 activity">
<h1>Steg 1: En snøballkaster</h1>
<p><em>Vi begynner med å lage oss en passelig bakgrunn, samt snøballkasteren som vi skal styre.</em></p>
<section id="sjekkliste" class="level2 check">
<h2>Sjekkliste</h2>
<ul>
<li><p>Start et nytt prosjekt. Slett kattefiguren.</p></li>
<li><p>La oss lage en bakgrunn. Til dette spillet trenger vi en ganske enkel bakgrunn med litt vinterfølelse. Den kan vi tegne selv:</p>
<p>Velg <img src="tegn-ny.png" alt="Tegn ny bakgrunn" /> for å tegne en ny bakgrunn. Pass på at du bruker vektorgrafikk, og tegn en stor firkant som dekker hele bakgrunnen. Velg så en mørkeblå forgrunnsfarge og en lysere bakgrunnsfarge. Klikk på malingsspannet for å fylle firkanten med farge, og velg en overgang nederst til venstre. Klikk på bakgrunnen for å fylle den med farge.</p>
<p>Velg nå hvit som forgrunnsfarge, og lag en litt mindre boks som dekker nedre del av bakgrunnen. Fyll også denne med passende farger.</p>
<figure>
<img src="bakgrunn.png" />
</figure>
<p>Kall bakgrunnen for <code>Spill</code>.</p></li>
<li><p>Legg følgende lille skript på scenen:</p>
<p><img src="09d6cc3d1b97fbc92a97c85521c8d09ba4436d7c.png" alt="    når grønt flagg klikkes
    send melding [start v]" /></p>
<p>Du har kanskje sett dette trikset tidligere. Dette gjør det enklere for oss å senere komme tilbake og legge på en startmeny og lignende.</p></li>
<li><p>Neste steg er å finne en passende figur som vi kan styre rundt og kaste snøballer med. Vi har brukt snømannen, <code>Fantasi/Snowman</code>, men du kan bruke en figur du liker. Gi figuren navnet <code>Helten</code>.</p></li>
<li><p>Lag en ny variabel <code>hastighet</code> som gjelder kun for denne figuren, og lag dette skriptet:</p>
<p><img src="344ea3c929f9ab9a996aa25910f274518edbd7da.png" alt="    når grønt flagg klikkes
    sett størrelse til (75) %
    begrens rotasjon [vend sideveis v]
    sett [hastighet v] til [5]" /></p>
<p>På det grønne flagget legger vi innstillinger som skal gjelde for <strong>Helten</strong> gjennom hele spillet. Endre gjerne på størrelsen og hastigheten etterhvert som du tester spillet, slik at du finner innstillinger du liker.</p></li>
<li><p>Nå kan vi lage selve hovedløkken til <strong>Helten</strong>. Lag først en løkke som starter på meldingen <code>start</code>:</p>
<p><img src="3664191a0eba7df640bb7f0fa94455ba61cb27ac.png" alt="    når jeg mottar [start v]
    gå til x: (0) y: (-75)
    for alltid
    slutt" /></p></li>
<li><p>Inne i løkken trenger vi to <code class="blockyellow">hvis</code>-klosser som flytter <strong>Helten</strong> <code class="blockorange">hastighet</code> steg mot høyre eller venstre når piltastene høyre og venstre er trykket. Lag disse selv.</p></li>
<li><p>Til slutt lager du en <code class="blockyellow">hvis</code>-kloss hvor du sender ut meldingen <code>kast</code> når mellomrom-tasten trykkes.</p></li>
</ul>
</section>
<section id="test-prosjektet" class="level2 flag">
<h2>Test prosjektet</h2>
<p><strong>Klikk på det grønne flagget.</strong></p>
<ul>
<li><p>Beveger figuren din seg rundt på scenen når du trykker høyre og venstre piltast? Det skal foreløbig ikke skje noe når du trykker mellomrom, siden ingen figurer svarer på <code>kast</code>-meldingen.</p></li>
<li><p>Du må sannsynligvis endre litt på <code>y</code>-posisjonen figuren din starter på, slik at det ser naturlig ut i forhold til bakgrunnen.</p></li>
<li><p>Hvis du har en figur med flere drakter kan du også bruke <code class="blockpurple">neste drakt</code>-klosser for å animere figuren din slik at den beveger seg mer naturlig.</p></li>
</ul>
</section>
</section>
<section id="steg-2-mange-snøballer" class="level1 activity">
<h1>Steg 2: Mange snøballer</h1>
<p><em>Det blir ingen snøballkrig uten snøballer. La oss lage kjempemange av dem! Med kram snø!</em></p>
<section id="sjekkliste-1" class="level2 check">
<h2>Sjekkliste</h2>
<ul>
<li><p>Tegn en ny figur. Bruk sirkelverkøyet til å tegne en liten hvit sirkel, fargelegg den deretter slik at den blir helt hvit. Trykk på <img src="velg_senterpunkt.png" alt="Velg senterpunkt" /> og pass på at senterpunktet er satt midt på snøballen. Kall figuren <code>Snøball</code>.</p></li>
<li><p>På samme måte som for <strong>Helten</strong> setter vi først opp noen standardinnstillinger for snøballen. Lag en variabel <code>hastighet</code> som kun gjelder for denne figuren:</p>
<p><img src="f56a82d178f314d06bb74b0ead90125879f6e068.png" alt="    når grønt flagg klikkes
    skjul
    sett størrelse til (40) %
    sett [hastighet v] til [10]" /></p></li>
<li><p>Vi bruker <code class="blockpurple">skjul</code> fordi vi vil lage kloner (kopier) av denne snøballen som vi kaster av gårde. Dette er et veldig nyttig triks i Scratch. Selve koden som reagerer på <code>kast</code>-meldingen er veldig enkel.</p>
<p><img src="7bdf5acc05d1f74e9c95dafd63e9a2a3bb657d6c.png" alt="    når jeg mottar [kast v]
    lag klon av [meg v]" /></p></li>
<li><p>Selve oppførselen til hver enkelt snøball programmerer vi så på en <code class="blockyellow">når jeg starter som klon</code>-kloss.</p>
<p><img src="4b2f7fda384b3accb2e6492fd74612935bb87fc1.png" alt="    når jeg starter som klon
    gå til [Helten v]
    pek i retning ([retning v] av [Helten v])
    vis
    gjenta til (berører [kant v])
        gå (hastighet) steg
    slutt
    slett denne klonen" /></p></li>
</ul>
</section>
<section id="test-prosjektet-1" class="level2 flag">
<h2>Test prosjektet</h2>
<p><strong>Klikk på det grønne flagget.</strong></p>
<ul>
<li><p>Hva skjer når du trykker mellomrom-tasten? Kastes det snøballer i riktig retning?</p></li>
<li><p>Det ser kanskje ikke ut som om <strong>Helten</strong> kaster snøballene med hendene? Du kan legge på noen <code class="blockblue">Bevegelse</code>-klosser rett før du <code class="blockpurple">vis</code>er snøballen for at det skal se bedre ut.</p></li>
<li><p>Som en liten utfordring kan du også prøve å legge på litt effekt av tyngdekraften på snøballen, ved å endre litt på <code>y</code> mens snøballen flyr.</p></li>
<li><p>Et lite problem er at <strong>Helten</strong> vår er <em>for</em> flink til å kaste snøball! Hver gang vi trykker mellomrom blir det kastet mange snøballer. Dette kan vi løse ganske enkelt ved å vente til mellomrom-tasten er sluppet før vi kaster snøballen. Legg til</p>
<p><img src="9fc67517684be997423549a0ec97ab43e45c82d8.png" alt="    vent til (ikke (tast [mellomrom v] trykket?))" /></p>
<p>på <strong>Helten</strong>-figuren før <code>kast</code>-meldingen sendes.</p></li>
</ul>
</section>
</section>
<section id="steg-3-slemme-gutter" class="level1 activity">
<h1>Steg 3: Slemme gutter</h1>
<p><em>Nå skal vi se hvordan vi kan lage slemme gutter som prøver å ta oss. La oss jage dem bort med snøballer.</em></p>
<section id="sjekkliste-2" class="level2 check">
<h2>Sjekkliste</h2>
<ul>
<li><p>Lag en ny figur. Vi har brukt <code>Mennesker/Boy3 walking</code>, men du kan bruke den figuren du liker. Kanskje det er morsommere å ha snøballkrig mot et monster? Kall figuren <code>Skumling</code>.</p></li>
<li><p>På samme måte som for snøballene vil vi lage kloner av <strong>Skumling</strong>. Men først bestemmer vi hvordan han skal se ut. Lag igjen en variabel <code>hastighet</code> som gjelder kun for denne figuren. Deretter,</p>
<p><img src="8b04aadfa8650c1e670f15b45ff78e1af1ce73ee.png" alt="    når grønt flagg klikkes
    skjul
    gå til x: (0) y: (-70)
    begrens rotasjon [vend sideveis v]
    sett størrelse til (30) %
    sett [hastighet v] til [3]" /></p></li>
<li><p>Vi vil la klonene dukke opp med litt tilfeldig mellomrom, og fra begge sider av skjermen.</p>
<p><img src="825cf5c4986b8e51d0575066687874f587a7b7a1.png" alt="    når jeg mottar [start v]
    for alltid
        hvis ((tilfeldig tall fra (0) til (1)) = [0])
            pek i retning (90 v)
            sett x til (-250)
        ellers
            pek i retning (-90 v)
            sett x til (250)
        slutt
        lag klon av [meg v]
        vent (tilfeldig tall fra (2) til (4)) sekunder
    slutt" /></p></li>
<li><p>På samme måte som for snøballene må vi også bestemme oppførselen til hver enkelt <strong>Skumling</strong>.</p>
<p>Lag først en <code class="blockyellow">når jeg starter som klon</code>-kloss hvor du først viser figuren, og deretter lager en <code class="blockyellow">for alltid</code>-løkke hvor figuren beveger seg <code class="blockorange">hastighet</code> steg og deretter venter et lite øyeblikk, for eksempel 0.1 sekunder.</p></li>
<li><p>Deretter lager vi en <em>ny</em> <code class="blockyellow">når jeg starter som klon</code>-kloss hvor vi undersøker om vi treffer enten en <strong>snøball</strong> eller <strong>Helten</strong>.</p>
<p><img src="ce8a941deff48e01dd8e21d592b887c029676cee.png" alt="    når jeg starter som klon
    for alltid
        hvis (berører [Helten v]?)
            send melding [slutt v]
            slett denne klonen
        slutt
        hvis (berører [Snøball v]?)
            slett denne klonen
        slutt
    slutt" /></p>
<p>Grunnen til at disse må ligge i et eget skript er at det første skriptet venter litt mellom hver gang figuren tar et steg. Hadde vi lagt disse <code class="blockyellow">hvis</code>-klossene på det skriptet ville vi bare sjekket om <strong>Skumlingen</strong> var truffet av en snøball innimellom ventingen. Ved å lage et eget skript sjekker vi dette hele tiden.</p></li>
</ul>
</section>
<section id="test-prosjektet-2" class="level2 flag">
<h2>Test prosjektet</h2>
<p><strong>Klikk på det grønne flagget.</strong></p>
<ul>
<li><p>Dukker det opp skumlinger? Kommer de fra begge sider? Går de mot midten?</p></li>
<li><p>Hva skjer når en <strong>Skumling</strong> blir truffet av en <strong>Snøball</strong>? Du kan kanskje legge på en passende lydeffekt og animasjon før klonen slettes? Vi ser også at snøballen flyr videre etter at den har truffet en <strong>Skumling</strong>. Prøv å endre i skriptet for <strong>Snøball</strong> slik at snøballen også blir borte.</p></li>
<li><p>Hva skjer når en <strong>Skumling</strong> tar <strong>Helten</strong>?</p></li>
</ul>
</section>
</section>
<section id="steg-4-telle-poeng-og-avslutte-spillet" class="level1 activity">
<h1>Steg 4: Telle poeng og avslutte spillet</h1>
<p><em>Nå som vi nesten har et ferdig spill, vil vi også ha poeng!</em></p>
<section id="sjekkliste-3" class="level2 check">
<h2>Sjekkliste</h2>
<ul>
<li><p>Å telle poeng er ganske lett. Lag først en variabel som heter <code>Poeng</code> og la den gjelde for alle figurer. La variabelen også vises på scenen, slik at vi ser hvor mange poeng vi har fått.</p></li>
<li><p>Pass på at <code class="blockorange">Poeng</code> blir satt til 0 når meldingen <code>start</code> sendes, for eksempel med et skript på scenen.</p></li>
<li><p>Endre <code class="blockorange">Poeng</code> med 1 når en <strong>Skumling</strong> blir truffet av en snøball.</p></li>
</ul>
<p>Vi har tidligere laget meldingen <code>slutt</code> som sendes ut når <strong>Helten</strong> blir tatt av en <strong>Skumling</strong>. Nå vil vi bruke denne til å avslutte spillet. Men først, la oss lage en meny og en bakgrunn som forteller oss at vi tapte.</p>
</section>
<section id="sjekkliste-4" class="level2 check">
<h2>Sjekkliste</h2>
<ul>
<li><p>Klikk på <code>Scene</code> til venstre for <code>Figurer</code>, og velg <code class="blockgray">Bakgrunner</code>-fanen. Lag to kopier av bakgrunnen din og kall dem henholdsvis <code>Meny</code> og <code>Slutt</code>.</p>
<p>På <code>Meny</code>-bakgrunnen kan du lage en fin tittel. Skriv også <code>Trykk 'S' for å starte</code>.</p>
<p>På <code>Slutt</code>-bakgrunnen kan du skrive en passende melding for når spillet er slutt. Skriv også <code>Trykk 'S' for å spille igjen</code>.</p></li>
<li><p>Endre nå litt på skriptene på scenen. Først vil vi bare vise menyen når det grønne flagget klikkes:</p>
<p><img src="3a6bb8c88c97da81b2e811aaffeed9842d1445ee.png" alt="    når grønt flagg klikkes
    bytt bakgrunn til [Meny v]" /></p>
<p>Deretter vil vi starte spillet når <code>S</code> trykkes:</p>
<p><img src="340ecf98c12d04f22123daed47a4a58f666520ed.png" alt="    når [s v] trykkes
    send melding [start v]" /></p>
<p>Pass også på at du bytter til bakgrunnen <code>Spill</code> når meldingen <code>start</code> mottas, og til bakgrunnen <code>Slutt</code> når meldingen <code>slutt</code> mottas.</p></li>
<li><p>Til slutt må vi passe på at spillet faktisk avsluttes etter at <code>slutt</code>-meldingen er sendt. Legg på skript for å <code class="blockyellow">slette denne klonen</code> på <strong>Snøball</strong> og <strong>Skumling</strong>, og skript for å skjule <strong>Helten</strong> når <code>slutt</code> mottas.</p></li>
</ul>
</section>
<section id="test-prosjektet-3" class="level2 flag">
<h2>Test prosjektet</h2>
<p><strong>Klikk på det grønne flagget.</strong></p>
<ul>
<li><p>Fungerer programflyten? Starter spillet når du trykker <code>S</code>? Avsluttes spillet når <strong>Helten</strong> blir fanget? Vises de riktige bakgrunnene når de skal?</p></li>
<li><p>Legg gjerne på litt lydeffekter og enkle animasjoner der det passer.</p></li>
</ul>
</section>
</section>
<section id="steg-5-store-slemme-gutter" class="level1 activity">
<h1>Steg 5: Store, slemme gutter</h1>
<p><em>Til slutt skal vi gjøre spillet vanskeligere jo lengre vi spiller</em></p>
<ul>
<li><p>Vi innfører først en ny variabel <code>Nivå</code> som skal gjelde for alle figurer. Denne styrer hvor vanskelig spillet skal være. La den gjerne være synlig.</p></li>
<li><p>Vi regner ut nivå basert på <code class="blockorange">Poeng</code>. Utvid skriptet ditt som mottar <code>start</code>-meldingen på scenen med den følgende løkken:</p>
<p><img src="2adb047770960efa1e3866ae4d3a9c3419f9e4e5.png" alt="    for alltid
        sett [Nivå v] til ((1) + ([gulv v] av ((Poeng) / (5))))
    slutt" /></p>
<p>Funksjonen <code>gulv</code> runder nedover. Dermed sier vi at <code class="blockorange">Nivå</code> skal øke for hver femte <strong>Skumling</strong> vi jager vekk.</p></li>
<li><p>Nå kan vi bruke <code class="blockorange">Nivå</code> til å lage <strong>Skumlingene</strong> slemmere. For eksempel kan de bli større, gå raskere og kanskje trenge flere snøballer før de blir borte.</p>
<p>Lag et par nye variabler som gjelder for denne figuren: <code>Slem</code> og <code>Liv</code>. Størrelse lar vi være hvor stor og slem den enkelte <strong>Skumlingen</strong> er. Ved å la dette være et tall mellom 1 og <code class="blockorange">Nivå</code> blir spillet vanskeligere etterhvert som <code class="blockorange">Nivå</code> øker. For eksempel kan du legge til disse klossene på <strong>Skumling</strong> sitt hovedskript:</p>
<p><img src="b30526e4000f52a9cfac74d386b6066d156874c9.png" alt="    når jeg starter som klon
    sett [Slem v] til (tilfeldig tall fra (1) til (Nivå))
    sett [Liv v] til (Slem)
    endre [hastighet v] med (Slem)
    endre [farge v] effekt med ((10) * (Slem))
    endre størrelse med ((5) * (Slem))
    vis
    for alltid
        gå (hastighet) steg
        vent (0.1) sekunder
    slutt" /></p></li>
<li><p>For at en <strong>Skumling</strong> skal tåle flere snøballer må vi også endre litt på hva som skjer når han blir truffet. I stedet for å bare slette klonen vil vi endre <code class="blockorange">Liv</code> med -1, og deretter gi poeng og slette klonen bare om <code class="blockorange">Liv</code> er 0.</p></li>
<li><p>Vi bør kanskje gi flere poeng for å jage bort de slemme <strong>Skumlingene</strong>? Dette gjør du ved å endre <code class="blockorange">Poeng</code> med <code class="blockorange">Slem</code> når en <strong>Skumling</strong> jages bort.</p></li>
<li><p>Om vi får mer enn ett poeng for hver <strong>Skumling</strong> bør vi også endre på hvordan vi regner ut <code class="blockorange">Nivå</code>. Hvis ikke vil spillet bli veldig fort vanskeligere etterhvert. Du kan for eksempel bruke denne utregningen:</p>
<p><img src="66a782ed6751078d1c10d6b7033360215622470a.png" alt="    for alltid
        sett [Nivå v] til ((1) + ([gulv v] av ([kvadratrot v] av ((Poeng) / (3)))))
    slutt" /></p>
<p>Da vil vi fortsatt øke nivået for omtrent hver femte <strong>Skumling</strong> som jages bort.</p></li>
</ul>
<section id="test-prosjektet-4" class="level2 flag">
<h2>Test prosjektet</h2>
<p><strong>Klikk på det grønne flagget.</strong></p>
<ul>
<li><p>Blir spillet vanskeligere etterhvert? Prøv å endre på de forskjellige variablene og innstilingene vi har laget slik at spillet blir passe vanskelig.</p></li>
<li><p>Har du flere ideer til hvordan spillet kan gjøres enda morsommere? Prøv dem ut!</p></li>
</ul>
</section>
</section>
<section class="legal">
<div>
Dette kurset er utviklet av <a href="http://www.kodeklubben.no/">Kodeklubben (http://www.kodeklubben.no/)</a>.
</div>
</section>
</body>
</div>
</html>
