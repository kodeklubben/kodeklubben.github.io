<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Donkey Kong | Kodeklubben</title><link href="../../assets/style.min.css" rel="stylesheet"/><script type="text/javascript">// convert url relative to current file
// ex: python/index.html -> ../python/index.html
function relative (url) {
  var urlRoot = '../..';
  if (urlRoot !== '') {
    return urlRoot + '/' + url;
  }
  return url;
}</script></head><body><div class="container"><div class="row"><div class="col-xs-12"><div class="top-menu"><div class="navigation"><a href="../../index.html"><span aria-hidden="true" class="glyphicon glyphicon-home"></span><span>&nbsp;</span><span>Forside</span></a><span>&nbsp;/&nbsp;</span><img src="../logo-black.png"/><a href="..">Scratch</a></div><a title="Ta en omvisning på siden" data-placement="bottom" href="#" class="intro"><span class="icon"></span><span class="text">Intro</span></a><form class="search"><input type="text" placeholder="Søk" class="form-control"/></form></div></div><div class="search"><h1>Søkeresultat</h1><div class="results"></div></div><div class="col-xs-12"><header class="clearfix"><img src="../logo-black.png" class="logo hidden-xs"/><h1 class="title">Donkey Kong</h1><div class="lesson-icons"><div class="level"><img title="Nivå 4" src="../../assets/img/level4.png"/><span>Ekspert</span></div><a href=".." class="course"><img src="../logo-white.png"/><span>Scratch</span></a><div class="pdf"><a href="/scratch/donkey_kong/donkey_kong.pdf" title="Last ned PDF"><span class="icon"></span><span class="text">PDF</span></a></div><div class="readme"><a href="README.html"><span class="icon"></span><span class="text">Lærerveiledning</span></a></div></div></header></div><div class="col-xs-12"><div class="content"><section class="intro" id="introduksjon">
<h1 class="intro" id="introduksjon">Introduksjon</h1>
<p>Donkey Kong var det første virkelig plattform-spillet da det ble gitt
ut i 1981. I tillegg til Donkey Kong var det også her vi første gang
ble kjent med Super Mario (som het Jumpman den gang). I spillet styrer
vi Super Mario mens han prøver å redde kjæresten sin fra Donkey Kong,
og må passe seg for tønner og ildkuler mens han hopper mellom
plattformer.</p>
<p><figure><img src="donkey_kong.png" alt=""></figure></p>
</section>
<section class="activity" id="oversikt-over-prosjektet">
<h1 class="activity" id="oversikt-over-prosjektet">Oversikt over prosjektet</h1>
<p><em>Mesteparten av kodingen av Donkey Kong skal du gjøre selv. Underveis
vil du lære hvordan du lager et enkelt plattform-spill i Scratch.</em></p>
<section class="check" id="plan">
<h2 class="check" id="plan">Plan</h2>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_0" disabled="true"><label for="cbx_0"> Hvordan styre en plattform-helt som kan hoppe?</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_1" disabled="true"><label for="cbx_1"> Plattformer og stiger</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_2" disabled="true"><label for="cbx_2"> Donkey Kong og rullende ildkuler</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_3" disabled="true"><label for="cbx_3"> .. og andre utfordringer</label></p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-1-en-hoppende-helt">
<h1 class="activity" id="steg-1-en-hoppende-helt">Steg 1: En hoppende helt</h1>
<p><em>Den viktigste delen av et godt plattform-spill er å ha en helt man
kan styre rundt og hoppe fra plattform til plattform med.</em></p>
<p>I denne delen skal vi konsentrere oss om hvordan vi kan styre
heltefiguren, og spesielt hvordan vi får den til å hoppe og falle på
en troverdig måte.</p>
<section class="check" id="sjekkliste">
<h2 class="check" id="sjekkliste">Sjekkliste</h2>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_4" disabled="true"><label for="cbx_4"> Start et nytt prosjekt.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_5" disabled="true"><label for="cbx_5"> For å kunne teste at heltefiguren oppfører seg som vi vil trenger vi
en enkel plattform (vi skal tegne flere plattformer senere). Tegn en
ny bakgrunn. Velg å tegne med <code>Vektorgrafikk</code>. Tegn en smal, lang
boks nederst på skjermen. Fyll den med en farge forskjellig fra
linjefargen.</label></p>
<p><figure><img src="plattform.png" alt=""></figure></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_6" disabled="true"><label for="cbx_6"> Velg eller lag deg en figur du ønsker å bruke som den hoppende
helten du skal styre. Om du ikke bruker Scratch-katten så slett
denne. Kall figuren <code>Jumpman</code>. Sannsynligvis vil vi gjøre figuren
mindre slik at vi får plass til flere plattformer på skjermen. Dette
kan du gjøre med kode som kun kjører i det du starter spillet, for
eksempel:</label></p>
<pre><code class="blocks">når grønt flagg klikkes
sett størrelse til (40) %
begrens rotasjon [vend sideveis v]
</code></pre>
<p>Vi har også lagt til en kloss som passer på at <code>Jumpman</code> bare snur
seg mot høyre eller venstre.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_7" disabled="true"><label for="cbx_7"> Vi trenger to variabler som vi skal bruke til å kontrollere
bevegelsen til <code>Jumpman</code>. Lag to variabler, <code class="b">(fartX)</code> og
<code class="b">(fartY)</code>. Pass på at begge gjelder kun <em>for denne figuren</em>.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_8" disabled="true"><label for="cbx_8"> I hovedløkken som styrer <code>Jumpman</code> vil vi først endre litt på disse
<code class="blockdata">fart</code>-variablene, og til slutt flytte selve figuren
basert på dem.</label></p>
<p>Dersom ingenting påvirker figuren vår vil vi at <code class="b">(fartX)</code> skal
gå mot 0 (farten bremses), mens vi vil at <code class="b">(fartY)</code> skal bli et
stadig større negativt tall (figuren faller). Men om figuren står på
plattformen skal <code class="b">(fartY)</code> være 0 (figuren står i ro). Dette kan
vi kode omtrent som følger:</p>
<pre><code class="blocks">når jeg mottar [nytt spill v]
gå til x: (-150) y: (-100)
for alltid  // hovedløkken
    sett [fartX v] til ((0.8) * (fartX))  // farten bremses
    endre [fartY v] med (-0.5)  // gravitasjon, figuren faller
    hvis &lt;berører fargen [#0000ff]&gt;  // figuren står på plattformen
        sett [fartY v] til [0]
    slutt
    endre x med (fartX)  // flytt selve figuren
    endre y med (fartY)
slutt
</code></pre>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_9" disabled="true"><label for="cbx_9"> Om du prøver spillet ditt så langt (husk å legge til et skript på
bakgrunnen som sender en <code>nytt spill</code>-melding når det grønne flagget
klikkes), vil du se at figuren din faller ned til plattformen. Men
du kan ikke kontrollere den.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_10" disabled="true"><label for="cbx_10"> For å styre <code>Jumpman</code> legger vi flere <code class="blockcontrol">hvis</code>-tester
inn i hovedløkken. For eksempel kan du få figuren til å bevege seg
mot venstre ved å legge til dette rett før <code class="b">endre x med (fartX)</code>:</label></p>
<pre><code class="blocks">hvis &lt;tast [pil venstre v] trykket?&gt;
    pek i retning (-90 v)
    sett [fartX v] til [-5]
    neste drakt
slutt
</code></pre>
<p>Lag også en tilsvarende blokk for å flytte figuren mot høyre.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_11" disabled="true"><label for="cbx_11"> Vi vil også at <code>Jumpman</code> hopper når vi trykker på <code>pil opp</code>-tasten.
Her må vi være litt forsiktig, siden vi bare vil at figuren kan
hoppe hvis den står på en plattform (ikke når den allerede
hopper). En enkel måte å få til dette på er å legge <code>pil opp</code>-testen
inne i testen for om figuren står på plattformen:</label></p>
<pre><code class="blocks">hvis &lt;berører fargen [#0000ff]&gt;  // gammel kode: figuren står på plattformen
    sett [fartY v] til [0]
    hvis &lt;tast [pil opp v] trykket?&gt;  // ny kode: figuren hopper
        sett [fartY v] til [5]
    slutt
slutt
</code></pre>
</li>
</ul>
<p>Vi har nå et bra utgangspunkt for et plattformspill. Nemlig en figur
som vi kan styre rundt, og som kan hoppe når vi vil det. Lek litt med
<code>Jumpman</code> og tallene vi har brukt i <code class="b">sett [fartX v] til []</code>- og
<code class="b">sett [fartY v] til []</code>-klossene slik at du får en bevegelse du
synes virker naturlig.</p>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_12" disabled="true"><label for="cbx_12"> Du har kanskje oppdaget at av og til faller <code>Jumpman</code> delvis
<em>gjennom</em> plattformen? Hvis ikke, prøv å slipp ham fra toppen av
skjermen. Den følgende testen fikser dette ganske greit:</label></p>
<pre><code class="blocks">hvis &lt;berører fargen [#009900]&gt;
    endre y med (2)
slutt
</code></pre>
<p>Dette var også grunnen til at vi fylte plattformen med en annen
farge enn linjefargen.</p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-2-plattformer-og-stiger">
<h1 class="activity" id="steg-2-plattformer-og-stiger">Steg 2: Plattformer og stiger</h1>
<p><em>Nå har vi en figur som kan springe og hoppe rundt på skjermen. La oss
lage flere plattformer den kan leke seg på.</em></p>
<p>Mens vi tegner flere plattformer er det viktig at vi bruker
<code>Vektorgrafikk</code> fordi dette gjør det lett å flytte plattformene rundt
etter at vi har tegnet dem.</p>
<section class="activity" id="sjekkliste-2">
<h2 class="activity" id="sjekkliste-2">Sjekkliste</h2>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_13" disabled="true"><label for="cbx_13"> Før vi tegner flere plattformer skal vi lage stiger, som vil gjøre
det enklere for helten vår å klatre opp eller ned. Som for
plattformer skal vi kjenne igjen stiger ved hjelp av fargen. For å
gjøre litt enkel testing, tegn først en strek rett opp fra
plattformen (vi skal tegne en finere stige senere) i en ny farge:</label></p>
<p><figure><img src="stige.png" alt=""></figure></p>
<p>Bruke <strong>linje</strong>-verktøyet og hold inne <code>shift</code>-knappen mens du
tegner for å få en helt rett linje.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_14" disabled="true"><label for="cbx_14"> Hvordan skal helten vår klatre i en stige? Først og fremst vil han
ikke falle nedover (på samme måte som når han står på en
plattform). I tillegg vil vi kunne klatre opp og ned i stigen. Legg
til denne testen på <code>Jumpman</code>:</label></p>
<pre><code class="blocks">hvis &lt;berører fargen [#ff0000]?&gt;
    sett [fartY v] til [0]
    hvis &lt;tast [pil opp v] trykket?&gt;
        endre y med (3)
    slutt
slutt
</code></pre>
<p>Med denne koden kan vi klatre opp stigen. Hvordan kommer vi oss ned
igjen? Kan du legge til en <code class="b">hvis &lt;tast [pil ned v] trykket?&gt;</code>-test til slik at vi også kan klatre ned stigen?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_15" disabled="true"><label for="cbx_15"> Tegn flere plattformer og stiger. Test underveis at det er mulig for
<code>Jumpman</code> å klatre eller hoppe mellom plattformene, men samtidig at
han ikke klarer å hoppe mellom to plattformer når det ikke er
meningen at det skal gå an.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_16" disabled="true"><label for="cbx_16"> Når du er fornøyd med hvordan brettet ser ut kan du også tegne
stigene litt finere. Om du vil kan du også vente med dette til etter
at du har programmert Donkey Kong i neste steg.</label></p>
<p><figure><img src="stige_med_plattform.png" alt=""></figure></p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-3-donkey-kong-og-rullende-ildkuler">
<h1 class="activity" id="steg-3-donkey-kong-og-rullende-ildkuler">Steg 3: Donkey Kong og rullende ildkuler</h1>
<p><em>På tide med litt utfordringer! Nå skal vi programmere Donkey Kong til
å kaste rullende ildkuler mot oss.</em></p>
<section class="check" id="sjekkliste-3">
<h2 class="check" id="sjekkliste-3">Sjekkliste</h2>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_17" disabled="true"><label for="cbx_17"> Lag en <code>Donkey Kong</code>-figur, og plasser den på en passende
plattform. Denne vil ikke bevege seg i dette spillet, slik at den
eneste koden vi egentlig trenger er for å kaste ildkuler. Vi skal
lage denne koden snart.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_18" disabled="true"><label for="cbx_18"> Lag også en ny <code>Ildkule</code>-figur. Dette kan være en sirkel du farger
oransje, eller du kan prøve å tegne noe mer avansert. La figuren
<code class="blocklooks">skjules</code> når det grønne flagget klikkes.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_19" disabled="true"><label for="cbx_19"> Nå skal vi skrive koden på Donkey Kong. Den blir ganske enkel. Etter
at <code>Donkey Kong</code> mottar <code>nytt spill</code> kan du la han gå inn i en <code class="blockcontrol">for alltid</code>-løkke hvor han <code class="blockcontrol">lager klon av Ildkule</code> og deretter <code class="blockcontrol">venter 3 sekunder</code>.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_20" disabled="true"><label for="cbx_20"> Men nå må vi programmere hvordan ildkulene skal oppføre seg. Vi vil
holde styr på hvordan de beveger seg ved hjelp av <code class="b">(fartX)</code> og
<code class="b">(fartY)</code> på samme måte som for <code>Jumpman</code>. Lag derfor disse to
variablene også på <code>Ildkule</code>. Husk at de skal gjelde kun <em>for denne
figuren</em>.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_21" disabled="true"><label for="cbx_21"> Først bestemmer vi hvilken fart kula har når <code>Donkey Kong</code> kaster
den. Dette gjør vi ved å sette <code class="blockdata">fart</code>-variablene, for
eksempel på denne måten:</label></p>
<pre><code class="blocks">når jeg starter som klon
gå til [Donkey Kong v]
sett [fartX v] til [3]
sett [fartY v] til (tilfeldig tall fra (0) til (5))
vis
</code></pre>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_22" disabled="true"><label for="cbx_22"> Videre bestemmer vi hvordan kulene oppfører seg ved å lage en
hovedløkke på omtrent samme måte som for <code>Jumpman</code>.</label></p>
<p>Legg en <code class="b">gjenta til &lt;(y-posisjon) &lt; [-170]&gt;</code>-kloss nederst i
<code class="b">når jeg starter som klon</code>-skriptet, og fyll denne med kode som
lar kulen falle, merker at ildkulen ligger på plattformen, og
flytter selve figuren.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_23" disabled="true"><label for="cbx_23"> Legg også til kode som gjør at ildkulene snur, <code class="b">sett [fartX v] til ((-1) * (fartX))</code>, når de <code class="blocksensing">berører kant</code>, og kode
som sender en melding, <code>fanget Jumpman</code>, når de <code class="blocksensing">berører Jumpman</code>.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_24" disabled="true"><label for="cbx_24"> Lag kode på <code>Jumpman</code> som mottar <code>fanget Jumpman</code>, og som kanskje
<code class="blocksound">spiller en lyd</code>.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_25" disabled="true"><label for="cbx_25"> Til slutt, lag en skatt som Jumpman skal redde. Dette blir en ny
figur som kan stå i ro til den <code>berører Jumpman</code> og deretter sende
en melding <code>fant skatten</code>. Skriv kode som svarer på denne meldingen
på passende måte.</label></p>
</li>
</ul>
</section>
</section>
<section class="activity" id="steg-4-videreutvikling-av-spillet">
<h1 class="activity" id="steg-4-videreutvikling-av-spillet">Steg 4: Videreutvikling av spillet</h1>
<p><em>Du har nå laget en enkel variant av Donkey Kong. Men prøv å gjøre
spillet morsommere ved å videreutvikle det. Du bestemmer selv hvordan
du vil jobbe videre, men nedenfor er noen ideer som kanskje kan være
til inspirasjon?</em></p>
<section class="check" id="ideer-til-videreutvikling">
<h2 class="check" id="ideer-til-videreutvikling">Ideer til videreutvikling</h2>
<ul class="task-list">
<li class="task-list-item">
<p><input type="checkbox" id="cbx_26" disabled="true"><label for="cbx_26"> Legg gjerne til flere animasjoner og lyder. For eksempel kan Donkey
Kong gjøre en kastebevegelse når han kaster ildkuler.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_27" disabled="true"><label for="cbx_27"> Lag en forside og meny. Om du lager en forside som forteller litt om
hvordan man spiller spillet ditt blir det enklere for andre å spille
det også!</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_28" disabled="true"><label for="cbx_28"> Vi har laget ett brett, men du kan enkelt tegne flere bakgrunner med
andre plattformer og hindringer. Prøv å lag flere brett hvor man
kommer videre til neste nivå etter at man har funnet skatten.</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_29" disabled="true"><label for="cbx_29"> For å gi spillerene litt mer motivasjon kan det være lurt å telle
poeng og liv. Til dette trenger du to nye variabler, <code class="b">(poeng)</code>
og <code class="b">(liv)</code>. For å telle liv kan du bruke <code>fanget Jumpman</code>-meldingen. Før du teller poeng må du tenke på hva du vil at
spillerene skal få poeng for?</label></p>
</li>
<li class="task-list-item">
<p><input type="checkbox" id="cbx_30" disabled="true"><label for="cbx_30"> Du kan legge til en tidsbegrensning om du vil gjøre spillet mer
utfordrende. Til dette bruker du en variabel <code class="b">(tid)</code> som du
<code class="blockdata">endrer</code> og deretter <code class="blockcontrol">venter 1 sekund</code>.</label></p>
</li>
</ul>
</section>
</section>
</div><div class="improve"><h3>Forbedre denne siden</h3><p>Funnet en feil? Kunne noe vært bedre? Hvis ja, vennligst gi oss tilbakemelding ved å lage en sak på Github eller fiks feilen selv om du kan. Vi er takknemlige for enhver tilbakemelding!</p><a href="https://github.com/kodeklubben/oppgaver/issues/new?title=Problem med Scratch: Donkey Kong&amp;body=Oppgavens kildekode: https://github.com/kodeklubben/oppgaver/tree/master/src/scratch/donkey_kong" class="issue">Rapporter et problem</a><a href="https://github.com/kodeklubben/oppgaver/tree/master/src/scratch/donkey_kong" class="code">Vis koden og fiks selv</a></div></div><div class="col-xs-12"><div id="footer" class="clearfix"><div class="license"><p><strong>Lisens:</strong></p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.no">CC BY-SA 4.0</a></div><div class="author"><p><strong>Forfatter</strong></p><p>Geir Arne Hjelle</p>
</div></div></div></div></div><div class="intro-question modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Hei der!</h4></div><div class="modal-body"><p>Ser ut som dette er ditt første besøk, vil du ha en omvisning?</p></div><div class="modal-footer"><button class="btn btn-success">Ja!</button><button data-dismiss="modal" class="btn btn-danger">Nei takk</button></div></div></div></div><script src="../../assets/vendor.min.js"></script><script src="../../assets/script.min.js"></script><script>// bind shim for phantomJS
Function.prototype.bind = Function.prototype.bind || function (thisp) {
  var fn = this;
  var args = Array.prototype.slice.call(arguments, 1);
  return function () {
    return fn.apply(thisp, args);
  };
};
$(document).ready(function(){
  $('pre').has('code.blocks').addClass('blocks');
  scratchblocks.renderMatching('code.blocks', {
    languages: ['nb', 'en']
  });
  scratchblocks.renderMatching('code.b', {
    languages: ['nb', 'en'],
    inline: true
  });
});</script></body></html>